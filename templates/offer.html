
{% extends 'base_with_navbar.html' %}

{% block title %}
    Internship Details
{% endblock %}


{% block content_block %}

    <!-- Check if internship exists and show details -->
    {% if internship %}
        {% if just_applied %}
            <h2> You have successfully applied for this internship. </h2>
            <hr/>
        {% endif %}


        <h2> Internship Details </h2>
        <h3> {{ internship.job_name }}</h3>
        <p><label> Company: {{ company.company_name }}</label></p>
        <label> Description: </label>
        <p> {{ internship.job_description }}</p>
        <label> Required skills: </label>

        <!-- Print required skill list if there is any -->
        {% if skills %}
            <ul>
                {% for skill in skills %}
                    <li> {{ skill }}</li>
                {% endfor %}
            </ul>

            <!-- Print no skills required if the skills list is empty -->
        {% else %}
            <p> No skills required.</p>
        {%  endif %}

        <!-- Show apply link if the user is logged in as an intern -->
        {% if user_type == 2 %}
            {% if has_applied %}
                <p> You have already applied for this internship. </p>
            {% else %}
                <form action="/intern/offer/{{ internship.id }}/" method="post">
                    {% csrf_token %}

                    <input type="submit" onclick="return confirm('Are u sure you want to apply?')" value="Apply" />
                </form>
            {% endif %}
        {% endif %}

        <hr/>

        <h2> People also applied for: </h2>
        {% include 'joblist.html' with job_list=recommendations %}

        <!-- Notify the user if the internship does not exit -->
    {% else %}
        <p> Internship missing </p>
    {% endif %}
{% endblock %}